ㅇㅋ 이 로그만 보면 **원인이 거의 확정**이야.
지금 `main`이 “유니버스 스캔”을 안 하고, **대상 심볼 목록을 파일/설정에서 읽어서** 그게 `['XRP']`로 박혀 있는 상태임.

로그 첫 줄이 증거야:

> `대상 심볼 목록 로드 완료: ['XRP']`

즉, **바이낸스에서 전체 코인 목록을 받아오는 로직이 아니라**
`targets.json / config / env / 하드코딩` 중 하나에서 `XRP`를 로드하고 있음.

---

## 1) 지금 바로 찾는 방법 (가장 빠른 원인추적)

프로젝트 폴더에서 “XRP”가 어디 박혀있는지 검색해봐.

### ✅ Windows CMD

```bat
cd C:\WORK\crypto-scalper\SRC
findstr /S /N /I "XRP" *.py *.json *.yaml *.yml *.env *.txt
```

### ✅ PowerShell이면

```powershell
cd C:\WORK\crypto-scalper\SRC
Get-ChildItem -Recurse -Include *.py,*.json,*.yaml,*.yml,*.env,*.txt |
  Select-String -Pattern "XRP" -CaseSensitive:$false |
  Select Path,LineNumber,Line
```

이거 하면 **정확히 어느 파일 몇 줄에서 XRP가 들어왔는지** 바로 잡힘.

---

## 2) 디폴트 XRP로 굳는 흔한 케이스 4개

### 케이스 A) `config/settings.yaml`에 박힘

```yaml
symbols: ["XRP"]
```

### 케이스 B) `targets.json` / `watchlist.json` 같은 파일

* “대상 심볼 목록 로드”라고 찍는 거 보면 보통 JSON 로드임.

### 케이스 C) 테스트용 fallback

코드에 이런게 있음:

```python
symbols = load_symbols() or ["XRP"]
```

파일이 없거나 비었을 때 **XRP로 fallback**.

### 케이스 D) env var로 심볼 고정

`.env`에:

```
SYMBOLS=XRP
```

---

## 3) 네가 원하는 구조로 바꾸는 “정답” (고정 스펙)

### ✅ main 흐름

1. 오늘자 `universe_YYYY-MM-DD.json` 있으면 로드
2. 없으면 Binance에서 받아서 저장
3. 스캔 루프는 `universe`를 돌고
4. 실시간 감시는 `watchlist` 상위 K개만

즉 “targets”라는 고정 리스트는 이제 제거하거나,

* 디버그용으로만 남겨야 함.

---

## 4) 바로 패치(최소 수정 방향)

`load_target_symbols()` 같은 함수가 있을 텐데, 지금은 거기서 `['XRP']`가 나오고 있음.

### 패치 규칙

* `--symbols` 인자 들어오면 그거만 사용(디버그용)
* 아니면 `load_or_refresh_universe()`로 전체 심볼 가져오기

대충 형태는 이렇게:

```python
if args.symbols:
    symbols = args.symbols
else:
    symbols = load_or_refresh_universe(client)  # 전체
```

---

## 5) 한 가지 더: 너 로그에 “분봉 1m 요청”도 보임

너 전략에서 **분봉 금지**였지?
근데 지금 코드가 1m 50개를 긁고 있어. 이건 지금 단계에서 같이 제거하는 게 맞아.

---

### 지금 당장 할 것

위 `findstr` 한 줄만 돌려서 **XRP가 박힌 위치** 결과를 그대로 붙여줘.
그러면 내가 그 결과 기준으로 “어느 파일 어느 함수에서 유니버스로 바꿔야 하는지” 정확히 찍어서 수정안 바로 써줄게.
